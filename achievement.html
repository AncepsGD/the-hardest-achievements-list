"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener("DOMContentLoaded",(function(){var e=function(e,t,n,r){var a=document.createElement("div");a.classList.add("achievement-item");var o=e.id||"placeholder-".concat(t);a.addEventListener("click",(function(e){var t="/achievement/".concat(o);e.ctrlKey?window.open(t,"_blank"):0===e.button&&(window.location.href=t)}));var i=document.createElement("div");i.classList.add("rank-date-container");var c="N/A";if(n&&r){var s=r[t-1];c=s?function(e,t){if(!e||!t)return"N/A";var n=new Date(e),r=new Date(t),a=Math.abs(n-r);return Math.ceil(a/864e5)}(e.date,s.date):"N/A"}i.innerHTML='\n            <div class="achievement-length">'.concat(e.length?"".concat(Math.floor(e.length/60),":").concat((e.length%60).toString().padStart(2,"0")):"N/A","</div>\n            ").concat(n?'<div class="lasted-days">Lasted '.concat(c," days</div>"):'<div class="achievement-date">'.concat(new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),"</div>"),'\n            <div class="rank"><strong>').concat(n?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"#".concat(t+1),"</strong></div>\n        ");var l=document.createElement("div");l.classList.add("tag-container");var d={LEVEL:{color:"rgb(34, 139, 34)",text:"Level"},CHALLENGE:{color:"rgb(255, 165, 0)",text:"Challenge"},"LOW HERTZ":{color:"rgb(128, 0, 128)",text:"Low Hertz"},MOBILE:{color:"rgb(0, 191, 255)",text:"Mobile"},SPEEDHACK:{color:"rgb(255, 69, 0)",text:"Speedhack"},NOCLIP:{color:"rgb(139, 0, 0)",text:"Noclip"},MISCELLANEOUS:{color:"rgb(105, 105, 105)",text:"Miscellaneous"},PROGRESS:{color:"rgb(70, 130, 180)",text:"Progress"},CONSISTENCY:{color:"rgb(75, 0, 130)",text:"Consistency"},"2P":{color:"rgb(230, 115, 39)",icon:"/assets/2p-icon.png",text:"2 Player"},CBF:{color:"rgb(219, 48, 63)",icon:"/assets/cbf-logo.png",text:"CBF"},RATED:{color:"rgb(230, 184, 60)",icon:"/assets/rated-icon.png",text:"Rated"},"FORMERLY RATED":{color:"rgb(131, 51, 37)",icon:"/assets/formerly-rated-icon.png",text:"Formerly Rated"},"OUTDATED VERSION":{color:"rgb(110, 103, 33)",icon:"/assets/outdated-version-icon.png",text:"Outdated Version"}},u=["LEVEL","CHALLENGE","LOW HERTZ","MOBILE","SPEEDHACK","NOCLIP","MISCELLANEOUS","PROGRESS","CONSISTENCY","2P","CBF","RATED","FORMERLY RATED","OUTDATED VERSION"];(e.tags||[]).sort((function(e,t){return u.indexOf(e.toUpperCase())-u.indexOf(t.toUpperCase())})).forEach((function(e){var t=d[e.toUpperCase()];if(t){var n=document.createElement("div");n.classList.add("tag"),n.style.backgroundColor=t.color,n.innerHTML="\n                        ".concat(t.icon?'<img src="'.concat(t.icon,'" alt="').concat(t.text,' Icon" class="tag-icon">'):"","\n                        <span>").concat(t.text,"</span>\n                    "),l.appendChild(n)}}));var f=document.createElement("div");return f.classList.add("achievement-details"),f.innerHTML='\n            <div class="text">\n                <h2>'.concat(e.name,"</h2>\n                <p>").concat(e.player,'</p>\n            </div>\n            <div class="thumbnail-container">\n                <img data-src="').concat(function(e){return e.thumbnail||(e.levelID?"https://tjcsucht.net/levelthumbs/".concat(e.levelID,".png"):"default-thumbnail.png")}(e),'" loading="lazy">\n            </div>\n        '),a.append(i,l,f),a},t=function(e){var t=document.getElementById("dynamic-background");t&&(t.hasAttribute("data-achievement-bg")||(t.style.backgroundImage="url(".concat(e,")")))};var n=function(n,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fetch(r).then((function(e){return e.json()})).then((function(r){if(r.length>0){var o=r[0],i=o.thumbnail||(o.levelID?"https://tjcsucht.net/levelthumbs/".concat(o.levelID,".png"):"default-thumbnail.png");t(i)}var c=document.getElementById("achievements-container"),s=new Set;r.forEach((function(e){return(e.tags||[]).forEach((function(e){return s.add(e)}))}));var l=["LEVEL","CHALLENGE","LOW HERTZ","MOBILE","SPEEDHACK","NOCLIP","MISCELLANEOUS","PROGRESS","CONSISTENCY","2P","CBF","RATED","FORMERLY RATED","OUTDATED VERSION"],d=Array.from(s).sort((function(e,t){var n=l.indexOf(e.toUpperCase()),r=l.indexOf(t.toUpperCase());return-1===n&&-1===r?e.localeCompare(t):-1===n?1:-1===r?-1:n-r})),u=document.getElementById("search-filter-static-container"),f=document.querySelector(".search-filter-container");if(u&&!f){var m=function(e,t){var n=document.createElement("div");n.className="search-filter-container";var r=document.createElement("div");r.className="tag-filter-pills",r.setAttribute("tabindex","0");var a={};t.forEach((function(e){return a[e]="neutral"})),t.forEach((function(t){var n=document.createElement("span");n.className="tag-filter-pill neutral",n.textContent=t,n.setAttribute("tabindex","0"),n.setAttribute("data-tag",t),n.setAttribute("aria-label","".concat(t," filter pill")),n.addEventListener("click",(function(){"neutral"===a[t]?a[t]="include":"include"===a[t]?a[t]="exclude":a[t]="neutral",function(e,t){e.classList.remove("neutral","include","exclude"),e.classList.add(t)}(n,a[t]),e()})),n.addEventListener("keydown",(function(e){" "!==e.key&&"Enter"!==e.key||(n.click(),e.preventDefault())})),r.appendChild(n)})),n.appendChild(r),n.getTagFilterState=function(){var e=[],t=[];for(var n in a)"include"===a[n]&&e.push(n),"exclude"===a[n]&&t.push(n);return{include:e,exclude:t}};var o=document.getElementById("mobile-filter-toggle-btn");if(o){var i=document.querySelector("header");i&&i.appendChild(o)}function c(){window.innerWidth<=900?(o&&(o.style.display=""),r.style.display=n.classList.contains("mobile-filters-shown")?"":"none",n.classList.contains("mobile-filters-shown")?o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-up.svg" alt="Hide Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>'):o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-down.svg" alt="Show Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>')):(o&&(o.style.display="none"),r.style.display="",n.classList.remove("mobile-filters-shown"),o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-down.svg" alt="Show Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>'))}return o&&o.addEventListener("click",(function(){n.classList.toggle("mobile-filters-shown"),c()})),window.addEventListener("resize",c),c(),{filterContainer:n}}((function(){return g()}),d),v=m.filterContainer;u.appendChild(v),f=v}var h="default",p="";function g(){var o=document.getElementById("search-filter-select");o&&(h=o.value);var i=f&&"function"==typeof f.getTagFilterState?f.getTagFilterState():{include:[],exclude:[]},s=i.include,l=i.exclude,d=function(e,t){switch(t){case"length":return _toConsumableArray(e).sort((function(e,t){return(t.length||0)-(e.length||0)}));case"alphabetical":return _toConsumableArray(e).sort((function(e,t){return(e.name||"").localeCompare(t.name||"",void 0,{sensitivity:"base"})}));case"date":return _toConsumableArray(e).sort((function(e,t){return new Date(t.date)-new Date(e.date)}));case"version":return _toConsumableArray(e).sort((function(e,t){return(e.version||"").localeCompare(t.version||"",void 0,{numeric:!0,sensitivity:"base"})}));case"levelid":return _toConsumableArray(e).sort((function(e,t){return(e.levelID||0)-(t.levelID||0)}));default:return n(e)}}(r,h).filter((function(e){var t="string"==typeof e.name?e.name:"",n=(e.tags||[]).map((function(e){return e.toUpperCase()}));return!(s.length&&!s.every((function(e){return n.includes(e.toUpperCase())})))&&((!l.length||!l.some((function(e){return n.includes(e.toUpperCase())})))&&t.toLowerCase().includes(p))}));c.innerHTML="";var u=document.createDocumentFragment();if(d.forEach((function(t,n){u.appendChild(e(t,n,a,d))})),c.appendChild(u),function(){var e=document.querySelectorAll(".achievement-item .thumbnail-container img[data-src]");if("IntersectionObserver"in window){var t=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n)}}))}),{rootMargin:"100px"});e.forEach((function(e){return t.observe(e)}))}else e.forEach((function(e){e.src=e.dataset.src,e.removeAttribute("data-src")}))}(),!a&&d.length>0){var m=d[0].thumbnail||(d[0].levelID?"https://tjcsucht.net/levelthumbs/".concat(d[0].levelID,".png"):"default-thumbnail.png");t(m)}}g();var b,y,E,L=document.querySelector(".search-bar input"),w=(b=function(e){p=e.target.value.toLowerCase(),g()},y=250,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(E),E=setTimeout((function(){return b.apply(void 0,t)}),y)});L.addEventListener("input",w)}))};function r(){var e,t=a(window.location.href),n=!1,r=_createForOfIteratorHelper(document.querySelectorAll(".sidebar-link"));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.getAttribute("href");if(i&&"#"!==i){var c=a(i);o.classList.remove("active"),c!==t||n||(o.classList.add("active"),n=!0)}}}catch(e){r.e(e)}finally{r.f()}}function a(e){try{var t=new URL(e,window.location.href).pathname;return t.slice(t.lastIndexOf("/")+1).toLowerCase()}catch(t){var n=e.split(/[?#]/)[0];return n.slice(n.lastIndexOf("/")+1).toLowerCase()}}function o(){var e=document.getElementById("mobile-hamburger-btn"),t=document.getElementById("sidebar"),n=document.getElementById("sidebar-mobile-overlay");function r(){t.classList.remove("sidebar-mobile-open"),n.classList.add("hidden")}t&&e&&(n||((n=document.createElement("div")).id="sidebar-mobile-overlay",n.className="sidebar-mobile-overlay hidden",document.body.appendChild(n)),e.addEventListener("click",(function(e){e.stopPropagation(),t.classList.add("sidebar-mobile-open"),n.classList.remove("hidden")})),n.addEventListener("click",r),document.addEventListener("keydown",(function(e){"Escape"===e.key&&r()})),t.addEventListener("click",(function(e){t.classList.contains("sidebar-mobile-open")&&e.stopPropagation()})))}window.location.pathname.includes("timeline.html")?n((function(e){return e.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),"timeline.json",!0):n((function(e){return e}),"achievements.json"),fetch("assets/sidebar.html").then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.text()})).then((function(e){var t=document.getElementById("sidebar");t&&(t.innerHTML=e,t.querySelectorAll(".sidebar-link.active").forEach((function(e){return e.classList.remove("active")})),requestAnimationFrame((function(){r(),function(){var e=document.getElementById("random-achievement-btn");if(!e)return;fetch("achievements.json").then((function(e){return e.json()})).then((function(t){var n=t.filter((function(e){return e&&e.id}));e.addEventListener("click",(function(e){if(e.preventDefault(),n.length>0){var t=n[Math.floor(Math.random()*n.length)];window.location.href="/achievement/".concat(t.id)}}))})).catch((function(e){return console.error("Failed to load achievements:",e)}))}()})))})).catch((function(e){console.error("Error loading sidebar:",e)})),o(),window.addEventListener("pageshow",(function(e){e.persisted&&(o(),r())})),window.addEventListener("pagehide",(function(e){}))}));"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener("DOMContentLoaded",(function(){var e=function(e,t,n,r){var a=document.createElement("div");a.classList.add("achievement-item");var o=e.id||"placeholder-".concat(t);a.addEventListener("click",(function(e){var t="/achievement/".concat(o);e.ctrlKey?window.open(t,"_blank"):0===e.button&&(window.location.href=t)}));var i=document.createElement("div");i.classList.add("rank-date-container");var c="N/A";if(n&&r){var s=r[t-1];c=s?function(e,t){if(!e||!t)return"N/A";var n=new Date(e),r=new Date(t),a=Math.abs(n-r);return Math.ceil(a/864e5)}(e.date,s.date):"N/A"}i.innerHTML='\n            <div class="achievement-length">'.concat(e.length?"".concat(Math.floor(e.length/60),":").concat((e.length%60).toString().padStart(2,"0")):"N/A","</div>\n            ").concat(n?'<div class="lasted-days">Lasted '.concat(c," days</div>"):'<div class="achievement-date">'.concat(new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),"</div>"),'\n            <div class="rank"><strong>').concat(n?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"#".concat(t+1),"</strong></div>\n        ");var l=document.createElement("div");l.classList.add("tag-container");var d={LEVEL:{color:"rgb(34, 139, 34)",text:"Level"},CHALLENGE:{color:"rgb(255, 165, 0)",text:"Challenge"},"LOW HERTZ":{color:"rgb(128, 0, 128)",text:"Low Hertz"},MOBILE:{color:"rgb(0, 191, 255)",text:"Mobile"},SPEEDHACK:{color:"rgb(255, 69, 0)",text:"Speedhack"},NOCLIP:{color:"rgb(139, 0, 0)",text:"Noclip"},MISCELLANEOUS:{color:"rgb(105, 105, 105)",text:"Miscellaneous"},PROGRESS:{color:"rgb(70, 130, 180)",text:"Progress"},CONSISTENCY:{color:"rgb(75, 0, 130)",text:"Consistency"},"2P":{color:"rgb(230, 115, 39)",icon:"/assets/2p-icon.png",text:"2 Player"},CBF:{color:"rgb(219, 48, 63)",icon:"/assets/cbf-logo.png",text:"CBF"},RATED:{color:"rgb(230, 184, 60)",icon:"/assets/rated-icon.png",text:"Rated"},"FORMERLY RATED":{color:"rgb(131, 51, 37)",icon:"/assets/formerly-rated-icon.png",text:"Formerly Rated"},"OUTDATED VERSION":{color:"rgb(110, 103, 33)",icon:"/assets/outdated-version-icon.png",text:"Outdated Version"}},u=["LEVEL","CHALLENGE","LOW HERTZ","MOBILE","SPEEDHACK","NOCLIP","MISCELLANEOUS","PROGRESS","CONSISTENCY","2P","CBF","RATED","FORMERLY RATED","OUTDATED VERSION"];(e.tags||[]).sort((function(e,t){return u.indexOf(e.toUpperCase())-u.indexOf(t.toUpperCase())})).forEach((function(e){var t=d[e.toUpperCase()];if(t){var n=document.createElement("div");n.classList.add("tag"),n.style.backgroundColor=t.color,n.innerHTML="\n                        ".concat(t.icon?'<img src="'.concat(t.icon,'" alt="').concat(t.text,' Icon" class="tag-icon">'):"","\n                        <span>").concat(t.text,"</span>\n                    "),l.appendChild(n)}}));var f=document.createElement("div");return f.classList.add("achievement-details"),f.innerHTML='\n            <div class="text">\n                <h2>'.concat(e.name,"</h2>\n                <p>").concat(e.player,'</p>\n            </div>\n            <div class="thumbnail-container">\n                <img data-src="').concat(function(e){return e.thumbnail||(e.levelID?"https://tjcsucht.net/levelthumbs/".concat(e.levelID,".png"):"default-thumbnail.png")}(e),'" loading="lazy">\n            </div>\n        '),a.append(i,l,f),a},t=function(e){var t=document.getElementById("dynamic-background");t&&(t.hasAttribute("data-achievement-bg")||(t.style.backgroundImage="url(".concat(e,")")))};var n=function(n,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fetch(r).then((function(e){return e.json()})).then((function(r){if(r.length>0){var o=r[0],i=o.thumbnail||(o.levelID?"https://tjcsucht.net/levelthumbs/".concat(o.levelID,".png"):"default-thumbnail.png");t(i)}var c=document.getElementById("achievements-container"),s=new Set;r.forEach((function(e){return(e.tags||[]).forEach((function(e){return s.add(e)}))}));var l=["LEVEL","CHALLENGE","LOW HERTZ","MOBILE","SPEEDHACK","NOCLIP","MISCELLANEOUS","PROGRESS","CONSISTENCY","2P","CBF","RATED","FORMERLY RATED","OUTDATED VERSION"],d=Array.from(s).sort((function(e,t){var n=l.indexOf(e.toUpperCase()),r=l.indexOf(t.toUpperCase());return-1===n&&-1===r?e.localeCompare(t):-1===n?1:-1===r?-1:n-r})),u=document.getElementById("search-filter-static-container"),f=document.querySelector(".search-filter-container");if(u&&!f){var m=function(e,t){var n=document.createElement("div");n.className="search-filter-container";var r=document.createElement("div");r.className="tag-filter-pills",r.setAttribute("tabindex","0");var a={};t.forEach((function(e){return a[e]="neutral"})),t.forEach((function(t){var n=document.createElement("span");n.className="tag-filter-pill neutral",n.textContent=t,n.setAttribute("tabindex","0"),n.setAttribute("data-tag",t),n.setAttribute("aria-label","".concat(t," filter pill")),n.addEventListener("click",(function(){"neutral"===a[t]?a[t]="include":"include"===a[t]?a[t]="exclude":a[t]="neutral",function(e,t){e.classList.remove("neutral","include","exclude"),e.classList.add(t)}(n,a[t]),e()})),n.addEventListener("keydown",(function(e){" "!==e.key&&"Enter"!==e.key||(n.click(),e.preventDefault())})),r.appendChild(n)})),n.appendChild(r),n.getTagFilterState=function(){var e=[],t=[];for(var n in a)"include"===a[n]&&e.push(n),"exclude"===a[n]&&t.push(n);return{include:e,exclude:t}};var o=document.getElementById("mobile-filter-toggle-btn");if(o){var i=document.querySelector("header");i&&i.appendChild(o)}function c(){window.innerWidth<=900?(o&&(o.style.display=""),r.style.display=n.classList.contains("mobile-filters-shown")?"":"none",n.classList.contains("mobile-filters-shown")?o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-up.svg" alt="Hide Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>'):o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-down.svg" alt="Show Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>')):(o&&(o.style.display="none"),r.style.display="",n.classList.remove("mobile-filters-shown"),o&&(o.innerHTML='<span class="arrow-img-wrapper"><img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/icons/chevron-down.svg" alt="Show Filters" style="width: 20px; height: 20px; filter: invert(92%) sepia(7%) saturate(104%) hue-rotate(200deg) brightness(97%) contrast(92%);"></span>'))}return o&&o.addEventListener("click",(function(){n.classList.toggle("mobile-filters-shown"),c()})),window.addEventListener("resize",c),c(),{filterContainer:n}}((function(){return g()}),d),v=m.filterContainer;u.appendChild(v),f=v}var h="default",p="";function g(){var o=document.getElementById("search-filter-select");o&&(h=o.value);var i=f&&"function"==typeof f.getTagFilterState?f.getTagFilterState():{include:[],exclude:[]},s=i.include,l=i.exclude,d=function(e,t){switch(t){case"length":return _toConsumableArray(e).sort((function(e,t){return(t.length||0)-(e.length||0)}));case"alphabetical":return _toConsumableArray(e).sort((function(e,t){return(e.name||"").localeCompare(t.name||"",void 0,{sensitivity:"base"})}));case"date":return _toConsumableArray(e).sort((function(e,t){return new Date(t.date)-new Date(e.date)}));case"version":return _toConsumableArray(e).sort((function(e,t){return(e.version||"").localeCompare(t.version||"",void 0,{numeric:!0,sensitivity:"base"})}));case"levelid":return _toConsumableArray(e).sort((function(e,t){return(e.levelID||0)-(t.levelID||0)}));default:return n(e)}}(r,h).filter((function(e){var t="string"==typeof e.name?e.name:"",n=(e.tags||[]).map((function(e){return e.toUpperCase()}));return!(s.length&&!s.every((function(e){return n.includes(e.toUpperCase())})))&&((!l.length||!l.some((function(e){return n.includes(e.toUpperCase())})))&&t.toLowerCase().includes(p))}));c.innerHTML="";var u=document.createDocumentFragment();if(d.forEach((function(t,n){u.appendChild(e(t,n,a,d))})),c.appendChild(u),function(){var e=document.querySelectorAll(".achievement-item .thumbnail-container img[data-src]");if("IntersectionObserver"in window){var t=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n)}}))}),{rootMargin:"100px"});e.forEach((function(e){return t.observe(e)}))}else e.forEach((function(e){e.src=e.dataset.src,e.removeAttribute("data-src")}))}(),!a&&d.length>0){var m=d[0].thumbnail||(d[0].levelID?"https://tjcsucht.net/levelthumbs/".concat(d[0].levelID,".png"):"default-thumbnail.png");t(m)}}g();var b,y,E,L=document.querySelector(".search-bar input"),w=(b=function(e){p=e.target.value.toLowerCase(),g()},y=250,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(E),E=setTimeout((function(){return b.apply(void 0,t)}),y)});L.addEventListener("input",w)}))};function r(){var e,t=a(window.location.href),n=!1,r=_createForOfIteratorHelper(document.querySelectorAll(".sidebar-link"));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.getAttribute("href");if(i&&"#"!==i){var c=a(i);o.classList.remove("active"),c!==t||n||(o.classList.add("active"),n=!0)}}}catch(e){r.e(e)}finally{r.f()}}function a(e){try{var t=new URL(e,window.location.href).pathname;return t.slice(t.lastIndexOf("/")+1).toLowerCase()}catch(t){var n=e.split(/[?#]/)[0];return n.slice(n.lastIndexOf("/")+1).toLowerCase()}}function o(){var e=document.getElementById("mobile-hamburger-btn"),t=document.getElementById("sidebar"),n=document.getElementById("sidebar-mobile-overlay");function r(){t.classList.remove("sidebar-mobile-open"),n.classList.add("hidden")}t&&e&&(n||((n=document.createElement("div")).id="sidebar-mobile-overlay",n.className="sidebar-mobile-overlay hidden",document.body.appendChild(n)),e.addEventListener("click",(function(e){e.stopPropagation(),t.classList.add("sidebar-mobile-open"),n.classList.remove("hidden")})),n.addEventListener("click",r),document.addEventListener("keydown",(function(e){"Escape"===e.key&&r()})),t.addEventListener("click",(function(e){t.classList.contains("sidebar-mobile-open")&&e.stopPropagation()})))}window.location.pathname.includes("timeline.html")?n((function(e){return e.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),"timeline.json",!0):n((function(e){return e}),"achievements.json"),fetch("assets/sidebar.html").then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.text()})).then((function(e){var t=document.getElementById("sidebar");t&&(t.innerHTML=e,t.querySelectorAll(".sidebar-link.active").forEach((function(e){return e.classList.remove("active")})),requestAnimationFrame((function(){r(),function(){var e=document.getElementById("random-achievement-btn");if(!e)return;fetch("achievements.json").then((function(e){return e.json()})).then((function(t){var n=t.filter((function(e){return e&&e.id}));e.addEventListener("click",(function(e){if(e.preventDefault(),n.length>0){var t=n[Math.floor(Math.random()*n.length)];window.location.href="/achievement/".concat(t.id)}}))})).catch((function(e){return console.error("Failed to load achievements:",e)}))}()})))})).catch((function(e){console.error("Error loading sidebar:",e)})),o(),window.addEventListener("pageshow",(function(e){e.persisted&&(o(),r())})),window.addEventListener("pagehide",(function(e){}))}));
